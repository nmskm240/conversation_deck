@startuml Conversation deck cards
package Controllers
{
    class TopicForm
}

package Database
{
    package Models
    {
        abstract DatabaseItem
        {
            -_id:int
            -_name:String
            -_detail:String
            +<<property>>id:int{get only}
            +<<property>>name:String{get only}
            +<<property>>detail:String{get only}
            +parse(data:Map<String, dynamic>):DatabaseItem
            +toMap():Map<String, dyanmic>
            +{abstract}init(obj:Map<String,dynamic>):Future
        }
    }
    package Utils
    {
        class Builder
        {
            -_constructor:Map<Type,dynamic Function(Map<String,dynamic>)>
            -{static}_instance:Builder
            -_constructor:Builder()
            +make<T>(arguments:Map<String,dynamic>):T?
        }
    }
    abstract DatabaseProvider<T extends DatabaseItem>
    {
        +version:int
        +table:String
        -_database:Database?
        +<<property>>database:Future<Database?>{get only}
        -<<async>>_init():Future<Database>
        +<<async>>all():Future<List<T?>>
        +<<async>>reset():Future
        +{abstract}<<async>>onCreate(db:Database,version:int):Future
        +<<async>>insert(data:T):Future<int?>
        +<<async>>update(data:T):Future<int?>
        +<<async>>deleteAt(id:int):Future<int?>
        +<<async>>getAt(id:int):Future<T?>
        +<<async>>getAts(ids:Iterable<int>):Future<List<T?>>
    }
    class DeckDatabase
    {
        -_instance:DeckDatabase
        -_constructor():DeckDatabase
    }
    class TimeDatabase
    {
        -_instance:TimeDatabase
        -_constructor():TimeDatabase
    }
    class TopicDatabase
    {
        -_instance:TopicDatabase
        -_constructor():TopicDatabase
    }
    class TopicInfoDatabase
    {
        -_instance:TopicInfoDatabase
        -_constructor():TopicInfoDatabase
    }
}

package "Models "
{
    class DatabaseListTile<T extends DatabaseItem>
    {
        +data:T?
        +onTap:void Function(T?)
        +onLongPress:void Function(T?)
    }
    class Deck
    {
        -_topics:List<Topic>
        +<<property>>topics:Iterable<Topic>
        +draw(count:int):List<Topic>
        +shuffle():void
    }
    class FooterItem
    {
        +route:Widget
    }
    class Time
    class Topic
    {
        -_useCount:int
        -_info:TopicInfo
        -_timestamp:DateTime
        +<<property>>useCount:int{get only}
        +<<property>>info:TopicInfo{get only}
        +<<property>>timestamp:DateTime{get only}
        +use():void
    }
    class TopicInfo
    {
        +when:Time
        +where:String
        +who:String
        +what:String
        +why:String
        +how:String
        +whatUp:String
        +specifically:String
    }
}
package Pages
{
    package States
    {
        abstract TopicListState
        {
            +appBar:AppBar
            +future:Future<List<Topic?>>
            +{abstract}onFloatingButtonPressed():void
            +{abstract}onListTileTap():void
            +{abstract}onListTileLongPress():void
            +{abstract}update():void
        }
        class TopicAll
        class DecksTopic
        {
            +deck:Deck
        }
    }
    class DeckMake
    class Home
    class Root
    class TopicList
    class TopicMake
}
package Views
{
    class DatabaseListView
    {
        +future:Future<List<T?>>
        +onTap:void Function(T?)
        +onLongPress:void Function(T?)
    }
    class Footer
    {
        +items:List<FooterItem>
        +onTap:Function(int)
    }
    class LabeledDropdown
    {
        +label:String
        +value:T
        +onChanged:Function
        +items:List<DropdownMenuItem<T>>?
    }
    class LabeledTextField
    {
        +text:String
        +label:String
        +hing:String
        +onChanged:Function
        +type:TextInputType
    }
}

DatabaseProvider --> DatabaseItem
DatabaseProvider --> Builder : use
Deck --> TopicDatabase : use
Topic --> TopicInfoDatabase : use
TopicInfo --> TimeDatabase : use
Root --> Footer
Home --> DatabaseListView
TopicList --> DatabaseListView
TopicMake --> TopicForm
TopicForm --> Topic : create
Builder -left-> DatabaseItem : create
TopicList --> TopicListState : use

DeckDatabase --|> DatabaseProvider
TopicDatabase --|> DatabaseProvider
TopicInfoDatabase --|> DatabaseProvider
TimeDatabase --|> DatabaseProvider
Deck --|> DatabaseItem
Topic --|> DatabaseItem
TopicInfo --|> DatabaseItem
Time --|> DatabaseItem
TopicAll --|> TopicListState
DecksTopic --|> TopicListState

Topic "1" *-right-> "1" TopicInfo

DeckDatabase *-up- Deck
TopicDatabase *-up- Topic
TopicInfoDatabase *-up- TopicInfo
TimeDatabase *-up- Time
TopicInfo "1" *-right- "1" Time
TopicForm "1" *-- "*" LabeledDropdown
TopicForm "1" *-- "*" LabeledTextField
Footer "1" *-- "*" FooterItem
DatabaseListTile "1" *-- "1" DatabaseItem

Deck "1" o-right- "*" Topic
DatabaseListView "1" o-- "*" DatabaseListTile

@enduml