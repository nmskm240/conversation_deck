@startuml Conversation deck cards
package Database
{
    abstract DatabaseItem
    {
        -_id:int
        -_name:String
        -_detail:String
        +<<property>>id:int{get only}
        +<<property>>name:String{get only}
        +<<property>>detail:String{get only}
        +deserialize(data:Map<String, dynamic>):DatabaseItem
        +serialize():Map<String, dyanmic>
    }
    abstract DatabaseProvider<T extends DatabaseItem>
    {
        -_name:String
        +version:int
        +table:String
        -_database:Database?
        +<<property>>database:Future<Database?>{get only}
        -<<async>>_init():Future<Database>
        +<<async>>all():Future<List<Map<String,dynamic>>?>
        +<<async>>reset():Future
        +<<async>>onCreate(db:Database,version:int):Future
        +<<async>>insert(data:T):Future<int?>
        +<<async>>update(data:T):Future<int?>
        +<<async>>deleteAt(id:int):Future<int?>
        +<<async>>getAt(id:int):Future<Map<String,dynamic>?>
        +<<async>>getAts(ids:Iterable<int>):Future<List<Map<String,dynamic>>?>
    }
}
class Deck
{
    -_topics:List<Topic>
    +<<property>>topics:Iterable<Topic>
    +draw(count:int):List<Topic>
    +shuffle():void
}
class DeckDatabase
{
    -_instance:DeckDatabase
    -_constructor():DeckDatabase
    -<<async>>_topicsRestore(data:Map<String,dynamic>):Future<Map<String,dynamic>?>
    -<<async>>_parses(datas:Iterable<Map<String,dynamic>>?):Future<List<Map<String,dynamic>>?>
}
class Topic
{
    -_useCount:int
    -_info:TopicInfo
    -_timestamp:DateTime
    +<<property>>useCount:int{get only}
    +<<property>>info:TopicInfo{get only}
    +<<property>>timestamp:DateTime{get only}
    +use():void
}
class TopicInfo
{
    +when:Time
    +where:String
    +who:String
    +what:String
    +why:String
    +how:String
    +whatUp:String
    +specifically:String
}
class TopicInfoDatabase
{
    -_instance:TopicInfoDatabase
    -_constructor():TopicInfoDatabase
    -<<async>>_timeUpdate(data:Map<String, dynamic>?):Future<Map<String, dynamic>?>
    -<<async>>_parses(datas:Iterable<Map<String, dynamic>>?):Future<List<Map<String, dynamic>>?>
}
class TopicDatabase
{
    -_instance:TopicDatabase
    -_constructor():TopicDatabase
    -<<async>>_injectInfo(data:Map<String, dynamic>?):Future<Map<String, dynamic>?>
    -<<async>>_parses(datas:Iterable<Map<String, dynamic>>?):Future<List<Map<String, dynamic>>?>
}
class Time
class TimeDatabase
{
    -_instance:TimeDatabase
    -_constructor():TimeDatabase
}

DatabaseProvider --> DatabaseItem
DeckDatabase --> Deck
TopicDatabase --> Topic
TopicInfoDatabase --> TopicInfo
TimeDatabase --> Time

DeckDatabase --|> DatabaseProvider
TopicDatabase --|> DatabaseProvider
TopicInfoDatabase --|> DatabaseProvider
TimeDatabase --|> DatabaseProvider
Deck --|> DatabaseItem
Topic --|> DatabaseItem
TopicInfo --|> DatabaseItem
Time --|> DatabaseItem

Topic "1" *--> "1" TopicInfo
Deck "1" *--> "many" Topic

TopicInfo "1" *-- "1" Time

@enduml